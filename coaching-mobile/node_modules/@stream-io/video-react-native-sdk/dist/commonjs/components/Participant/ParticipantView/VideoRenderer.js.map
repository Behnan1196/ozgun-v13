{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeWebrtc","_videoClient","_videoReactBindings","_ParticipantVideoFallback","_ThemeContext","_useTrackDimensions","_ScreenshotIosContext","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","DEFAULT_VIEWPORT_VISIBILITY_STATE","videoTrack","VisibilityState","UNKNOWN","screenShareTrack","VideoRenderer","trackType","participant","isVisible","ParticipantVideoFallback","DefaultParticipantVideoFallback","objectFit","videoZOrder","theme","videoRenderer","useTheme","useCall","useCallCallingState","useCameraState","useIncomingVideoSettings","useCallStateHooks","isParticipantVideoEnabled","callingState","pendingVideoLayoutRef","useRef","undefined","subscribedVideoLayoutRef","direction","viewRef","register","registerIosScreenshot","deregister","deregisterIosScreenshot","useScreenshotIosContext","videoDimensions","useTrackDimensions","isLocalParticipant","sessionId","viewportVisibilityState","videoStream","screenShareStream","isScreenSharing","isPublishingVideoTrack","hasScreenShare","hasVideo","hasJoinedCall","CallingState","JOINED","videoStreamToRender","canShowVideo","React","useEffect","Platform","OS","current","mirror","VISIBLE","state","updateParticipant","p","INVISIBLE","updateIsNeeded","dimension","updateParticipantTracks","dynascaleManager","applyTrackSubscriptions","onLayout","event","width","Math","trunc","nativeEvent","layout","height","createElement","View","style","styles","container","RTCView","streamURL","toURL","ref","zOrder","exports","StyleSheet","create","absoluteFillObject"],"sourceRoot":"../../../../../src","sources":["components/Participant/ParticipantView/VideoRenderer.tsx"],"mappings":"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","ignoreList":[]}
