{"version":3,"names":["_videoReactBindings","require","_react","_utils","_reactNative","_videoClient","_notifee","notifeeLib","getNotifeeLibNoThrowForKeepCallAlive","setForegroundService","Platform","OS","NativeModules","StreamVideoReactNative","isCallAliveConfigured","then","isConfigured","logger","getLogger","default","registerForegroundService","Promise","startForegroundService","call_cid","videoConfig","StreamVideoRN","getConfig","foregroundServiceConfig","foregroundService","title","body","android","notificationTexts","settings","getNotificationSettings","authorizationStatus","AuthorizationStatus","AUTHORIZED","channelId","channel","id","createChannel","foregroundServiceTypes","getKeepCallAliveForegroundServiceTypes","requestAnimationFrame","displayNotification","smallIcon","push","asForegroundService","ongoing","colorized","pressAction","launchActivity","isSetForegroundServiceRan","useAndroidKeepCallAliveEffect","foregroundServiceStartedRef","useRef","call","useCall","activeCallCid","cid","useCallCallingState","useCallStateHooks","callingState","isOutgoingCall","CallingState","RINGING","isCreatedByMe","isCallJoined","JOINED","shouldStartForegroundService","current","useEffect","undefined","run","notifee","displayedNotifications","getDisplayedNotifications","activeCallNotification","find","notification","stopForegroundService","cancelDisplayedNotification","AppState","currentState","sub","addEventListener","nextAppState","remove","IDLE","LEFT","exports"],"sourceRoot":"../../../src","sources":["hooks/useAndroidKeepCallAliveEffect.ts"],"mappings":";;;;;;AAAA,IAAAA,mBAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,MAAA,GAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AAMA,IAAAI,YAAA,GAAAJ,OAAA;AACA,IAAAK,QAAA,GAAAL,OAAA;AAKA,MAAMM,UAAU,GAAG,IAAAC,6CAAoC,EAAC,CAAC;AAEzD,SAASC,oBAAoBA,CAAA,EAAG;EAC9B,IAAIC,qBAAQ,CAACC,EAAE,KAAK,KAAK,IAAI,CAACJ,UAAU,EAAE;EAC1CK,0BAAa,CAACC,sBAAsB,CAACC,qBAAqB,CAAC,CAAC,CAACC,IAAI,CAC9DC,YAAqB,IAAK;IACzB,IAAI,CAACA,YAAY,EAAE;MACjB,MAAMC,MAAM,GAAG,IAAAC,sBAAS,EAAC,CAAC,6BAA6B,CAAC,CAAC;MACzDD,MAAM,CACJ,MAAM,EACN,qEACF,CAAC;MACD;IACF;IACAV,UAAU,CAACY,OAAO,CAACC,yBAAyB,CAAC,MAAM;MACjD,OAAO,IAAIC,OAAO,CAAC,MAAM;QACvB,MAAMJ,MAAM,GAAG,IAAAC,sBAAS,EAAC,CAAC,6BAA6B,CAAC,CAAC;QACzDD,MAAM,CAAC,MAAM,EAAE,iDAAiD,CAAC;MACnE,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CACF,CAAC;AACH;AAEA,eAAeK,sBAAsBA,CAACC,QAAgB,EAAE;EACtD,MAAMC,WAAW,GAAGC,oBAAa,CAACC,SAAS,CAAC,CAAC;EAC7C,MAAMC,uBAAuB,GAAGH,WAAW,CAACI,iBAAiB;EAC7D,MAAM;IAAEC,KAAK;IAAEC;EAAK,CAAC,GAAGH,uBAAuB,CAACI,OAAO,CAACC,iBAAiB;;EAEzE;EACA,IAAI,CAACzB,UAAU,EAAE;EACjB,MAAMO,qBAAqB,GACzB,MAAMF,0BAAa,CAACC,sBAAsB,CAACC,qBAAqB,CAAC,CAAC;EACpE,IAAI,CAACA,qBAAqB,EAAE;IAC1B,MAAMG,MAAM,GAAG,IAAAC,sBAAS,EAAC,CAAC,wBAAwB,CAAC,CAAC;IACpDD,MAAM,CACJ,MAAM,EACN,qEACF,CAAC;IACD;EACF;EACA,MAAMgB,QAAQ,GAAG,MAAM1B,UAAU,CAACY,OAAO,CAACe,uBAAuB,CAAC,CAAC;EACnE,IACED,QAAQ,CAACE,mBAAmB,KAAK5B,UAAU,CAAC6B,mBAAmB,CAACC,UAAU,EAC1E;IACA,MAAMpB,MAAM,GAAG,IAAAC,sBAAS,EAAC,CAAC,wBAAwB,CAAC,CAAC;IACpDD,MAAM,CACJ,MAAM,EACN,8FACF,CAAC;IACD;EACF;EACA,MAAMqB,SAAS,GAAGX,uBAAuB,CAACI,OAAO,CAACQ,OAAO,CAACC,EAAE;EAC5D,MAAMjC,UAAU,CAACY,OAAO,CAACsB,aAAa,CACpCd,uBAAuB,CAACI,OAAO,CAACQ,OAClC,CAAC;EACD,MAAMG,sBAAsB,GAAG,MAAM,IAAAC,+CAAsC,EAAC,CAAC;EAC7E;EACA;EACA;EACAC,qBAAqB,CAAC,MAAM;IAC1BrC,UAAU,CAACY,OAAO,CAAC0B,mBAAmB,CAAC;MACrCL,EAAE,EAAEjB,QAAQ;MACZM,KAAK;MACLC,IAAI;MACJC,OAAO,EAAE;QACPO,SAAS;QACTQ,SAAS,EAAEtB,WAAW,CAACuB,IAAI,EAAEhB,OAAO,CAACe,SAAS;QAC9CJ,sBAAsB;QACtBM,mBAAmB,EAAE,IAAI;QACzBC,OAAO,EAAE,IAAI;QAAE;QACfC,SAAS,EAAE,IAAI;QACfC,WAAW,EAAE;UACXX,EAAE,EAAE,SAAS;UACbY,cAAc,EAAE,SAAS,CAAE;QAC7B;MACF;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;;AAEA;AACA,IAAIC,yBAAyB,GAAG,KAAK;;AAErC;AACA;AACA;AACA;AACA;AACA;AACO,MAAMC,6BAA6B,GAAGA,CAAA,KAAM;EACjD,MAAMC,2BAA2B,GAAG,IAAAC,aAAM,EAAC,KAAK,CAAC;EAEjD,MAAMC,IAAI,GAAG,IAAAC,2BAAO,EAAC,CAAC;EACtB,MAAMC,aAAa,GAAGF,IAAI,EAAEG,GAAG;EAC/B,MAAM;IAAEC;EAAoB,CAAC,GAAG,IAAAC,qCAAiB,EAAC,CAAC;EACnD,MAAMC,YAAY,GAAGF,mBAAmB,CAAC,CAAC;EAE1C,MAAMG,cAAc,GAClBD,YAAY,KAAKE,yBAAY,CAACC,OAAO,IAAIT,IAAI,EAAEU,aAAa;EAC9D,MAAMC,YAAY,GAAGL,YAAY,KAAKE,yBAAY,CAACI,MAAM;EAEzD,MAAMC,4BAA4B,GAChC,CAACf,2BAA2B,CAACgB,OAAO,KAAKP,cAAc,IAAII,YAAY,CAAC;EAE1E,IAAAI,gBAAS,EAAC,MAAgC;IACxC,IAAI9D,qBAAQ,CAACC,EAAE,KAAK,KAAK,IAAI,CAACgD,aAAa,EAAE;MAC3C,OAAOc,SAAS;IAClB;IACA,IAAI,CAAClE,UAAU,EAAE,OAAOkE,SAAS;;IAEjC;IACA,IAAIH,4BAA4B,EAAE;MAChC,MAAMI,GAAG,GAAG,MAAAA,CAAA,KAAY;QACtB,IAAInB,2BAA2B,CAACgB,OAAO,EAAE;UACvC;QACF;QACA,IAAI,CAAClB,yBAAyB,EAAE;UAC9BA,yBAAyB,GAAG,IAAI;UAChC5C,oBAAoB,CAAC,CAAC;QACxB;QACA,MAAMkE,OAAO,GAAGpE,UAAU,CAACY,OAAO;QAClC,MAAMyD,sBAAsB,GAC1B,MAAMD,OAAO,CAACE,yBAAyB,CAAC,CAAC;QAC3C,MAAMC,sBAAsB,GAAGF,sBAAsB,CAACG,IAAI,CACvDC,YAAY,IAAKA,YAAY,CAACxC,EAAE,KAAKmB,aACxC,CAAC;QACD,IAAImB,sBAAsB,EAAE;UAC1B;UACAH,OAAO,CAACM,qBAAqB,CAAC,CAAC;UAC/BN,OAAO,CAACO,2BAA2B,CAACvB,aAAa,CAAC;QACpD;QACA;;QAEA,MAAMrC,sBAAsB,CAACqC,aAAa,CAAC;QAC3CJ,2BAA2B,CAACgB,OAAO,GAAG,IAAI;MAC5C,CAAC;;MAED;MACA,IAAIY,qBAAQ,CAACC,YAAY,KAAK,QAAQ,EAAE;QACtCV,GAAG,CAAC,CAAC;QACL,OAAOD,SAAS;MAClB;MACA,MAAMY,GAAG,GAAGF,qBAAQ,CAACG,gBAAgB,CACnC,QAAQ,EACPC,YAA4B,IAAK;QAChC,IAAIA,YAAY,KAAK,QAAQ,EAAE;UAC7Bb,GAAG,CAAC,CAAC;UACLW,GAAG,CAACG,MAAM,CAAC,CAAC;QACd;MACF,CACF,CAAC;MACD,OAAO,MAAM;QACXH,GAAG,CAACG,MAAM,CAAC,CAAC;MACd,CAAC;IACH,CAAC,MAAM,IAAIzB,YAAY,KAAKE,yBAAY,CAACC,OAAO,EAAE;MAChD,OAAO,MAAM;QACX;QACA;QACA3D,UAAU,CAACY,OAAO,CAAC+D,2BAA2B,CAACvB,aAAa,CAAC;MAC/D,CAAC;IACH,CAAC,MAAM,IACLI,YAAY,KAAKE,yBAAY,CAACwB,IAAI,IAClC1B,YAAY,KAAKE,yBAAY,CAACyB,IAAI,EAClC;MACA,IAAInC,2BAA2B,CAACgB,OAAO,EAAE;QACvC;QACAhE,UAAU,CAACY,OAAO,CAAC8D,qBAAqB,CAAC,CAAC;QAC1C1B,2BAA2B,CAACgB,OAAO,GAAG,KAAK;MAC7C,CAAC,MAAM;QACLhE,UAAU,CAACY,OAAO,CACf0D,yBAAyB,CAAC,CAAC,CAC3B9D,IAAI,CAAE6D,sBAAsB,IAAK;UAChC,MAAME,sBAAsB,GAAGF,sBAAsB,CAACG,IAAI,CACvDC,YAAY,IAAKA,YAAY,CAACxC,EAAE,KAAKmB,aACxC,CAAC;UACD,IAAImB,sBAAsB,EAAE;YAC1B;YACAvE,UAAU,CAACY,OAAO,CAAC8D,qBAAqB,CAAC,CAAC;UAC5C;QACF,CAAC,CAAC;MACN;IACF;IACA,OAAOR,SAAS;EAClB,CAAC,EAAE,CAACd,aAAa,EAAEI,YAAY,EAAEO,4BAA4B,CAAC,CAAC;EAE/D,IAAAE,gBAAS,EAAC,MAAM;IACd,OAAO,MAAM;MACX;MACA,IAAIjB,2BAA2B,CAACgB,OAAO,EAAE;QACvC,IAAI,CAAChE,UAAU,EAAE;QACjBA,UAAU,CAACY,OAAO,CAAC8D,qBAAqB,CAAC,CAAC;QAC1C1B,2BAA2B,CAACgB,OAAO,GAAG,KAAK;MAC7C;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;AACR,CAAC;AAACoB,OAAA,CAAArC,6BAAA,GAAAA,6BAAA","ignoreList":[]}
