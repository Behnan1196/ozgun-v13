{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_dayjs","_interopRequireDefault","_duration","_AttachmentPickerItem","_AttachmentPickerContext","_ThemeContext","_useScreenDimensions2","_native","_BottomSheet","_BottomSheetFlatList","_jsxRuntime","_this","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","dayjs","extend","duration","styles","StyleSheet","create","container","flexGrow","AttachmentPicker","exports","React","forwardRef","props","ref","AttachmentPickerBottomSheetHandle","attachmentPickerBottomSheetHandleHeight","attachmentPickerBottomSheetHeight","AttachmentPickerError","attachmentPickerErrorButtonText","AttachmentPickerErrorImage","attachmentPickerErrorText","AttachmentPickerIOSSelectMorePhotos","ImageOverlaySelectedComponent","numberOfAttachmentImagesToLoadPerCall","numberOfAttachmentPickerImageColumns","_useTheme","useTheme","_useTheme$theme","theme","bottomSheetContentContainer","attachmentPicker","white","colors","_useAttachmentPickerC","useAttachmentPickerContext","closePicker","selectedPicker","setSelectedPicker","topInset","_useScreenDimensions","useScreenDimensions","screenVh","vh","fullScreenHeight","_useState","useState","_useState2","_slicedToArray2","currentIndex","setCurrentIndex","endCursorRef","useRef","undefined","_useState3","_useState4","photoError","setPhotoError","_useState5","_useState6","iOSLimited","setIosLimited","hasNextPageRef","_useState7","_useState8","loadingPhotos","setLoadingPhotos","_useState9","_useState10","photos","setPhotos","attemptedToLoadPhotosOnOpenRef","getMorePhotos","useCallback","_asyncToGenerator2","current","endCursor","NativeHandlers","getPhotos","results","after","first","prevPhotos","concat","_toConsumableArray2","assets","hasNextPage","error","getMorePhotosRef","useEffect","oniOS14GalleryLibrarySelectionChange","_NativeHandlers$oniOS","unsubscribe","backAction","backHandler","BackHandler","addEventListener","remove","onKeyboardOpenHandler","keyboardShowEvent","Platform","OS","keyboardSubscription","Keyboard","addListener","removeListener","selectedPhotos","useMemo","map","asset","handleHeight","initialSnapPoint","finalSnapPoint","snapPoints","MemoizedAttachmentPickerBottomSheetHandle","jsx","assign","jsxs","Fragment","children","BottomSheet","enablePanDownToClose","handleComponent","index","onChange","BottomSheetFlatList","contentContainerStyle","backgroundColor","opacity","data","keyExtractor","item","uri","numColumns","onEndReached","renderItem","renderAttachmentPickerItem","testID","displayName"],"sourceRoot":"../../../../src","sources":["components/AttachmentPicker/AttachmentPicker.tsx"],"mappings":"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","ignoreList":[]}
