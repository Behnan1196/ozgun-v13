{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_streamChat","_useAudioPreviewManager","_contexts","_useAttachmentManagerState","_MessageInputContext","_ThemeContext","_native","_jsxRuntime","_this","_jsxFileName","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","IMAGE_PREVIEW_SIZE","FILE_PREVIEW_HEIGHT","UnMemoizedAttachmentUploadListPreview","props","_useState","useState","_useState2","_slicedToArray2","flatListWidth","setFlatListWidth","flatListRef","useRef","AudioAttachmentUploadPreview","FileAttachmentUploadPreview","ImageAttachmentUploadPreview","VideoAttachmentUploadPreview","_useMessageComposer","useMessageComposer","attachmentManager","_useAttachmentManager","useAttachmentManagerState","attachments","_useTheme","useTheme","_useTheme$theme","theme","grey_whisper","colors","_useTheme$theme$messa","messageInput","attachmentSeparator","_useTheme$theme$messa2","attachmentUploadPreviewList","filesFlatList","imagesFlatList","wrapper","imageUploads","filter","attachment","isLocalImageAttachment","fileUploads","useMemo","audioUploads","isLocalAudioAttachment","isLocalVoiceRecordingAttachment","_useAudioPreviewManag","useAudioPreviewManager","audioAttachmentsStateMap","onLoad","onProgress","onPlayPause","renderImageItem","useCallback","_ref","item","jsx","handleRetry","uploadAttachment","removeAttachments","renderFileItem","_ref2","audioAttachmentConfig","localMetadata","id","isSoundPackageAvailable","isVideoAttachment","isLocalFileAttachment","useEffect","length","current","setTimeout","_flatListRef$current","scrollToEnd","onLayout","event","nativeEvent","layout","width","jsxs","View","style","children","FlatList","data","getItemLayout","_","index","offset","horizontal","keyExtractor","renderItem","styles","borderBottomColor","ref","testID","MemoizedAttachmentUploadPreviewListWithContext","React","memo","AttachmentUploadPreviewList","exports","_useMessageInputConte","useMessageInputContext","assign","StyleSheet","create","borderBottomWidth","marginBottom","maxHeight","paddingBottom","displayName"],"sourceRoot":"../../../../src","sources":["components/MessageInput/AttachmentUploadPreviewList.tsx"],"mappings":"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","ignoreList":[]}
