{"version":3,"names":["_react","require","_uniqBy","_interopRequireDefault","_streamChat","_contexts","usePollOptionVotesPagination","exports","_ref","_ref$loadFirstPage","loadFirstPage","option","paginationParams","_usePollContext","usePollContext","poll","_useChatContext","useChatContext","client","_useState","useState","_useState2","_slicedToArray2","default","votes","setVotes","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","cursorRef","useRef","undefined","queryInProgress","optionFilter","useMemo","option_id","id","loadMore","useCallback","_asyncToGenerator2","current","next","_yield$poll$queryOpti","queryOptionVotes","filter","Object","assign","options","sort","created_at","newNext","prev","uniqBy","concat","_toConsumableArray2","e","useEffect","length","castedListeners","map","eventName","on","event","_event$poll","vote","poll_vote","isVoteAnswer","v","removedListener","_event$poll2","forEach","listener","unsubscribe","hasNextPage"],"sourceRoot":"../../../../../src","sources":["components/Poll/hooks/usePollOptionVotesPagination.ts"],"mappings":"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","ignoreList":[]}
