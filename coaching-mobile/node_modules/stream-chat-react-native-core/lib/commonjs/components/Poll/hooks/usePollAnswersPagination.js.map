{"version":3,"names":["_react","require","_uniqBy","_interopRequireDefault","_streamChat","_contexts","usePollAnswersPagination","exports","_ref","arguments","length","undefined","_ref$loadFirstPage","loadFirstPage","paginationParams","_usePollContext","usePollContext","poll","_useChatContext","useChatContext","client","_useState","useState","_useState2","_slicedToArray2","default","pollAnswers","setPollAnswers","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","cursorRef","useRef","queryInProgress","loadMore","useCallback","_asyncToGenerator2","current","next","_yield$poll$queryAnsw","queryAnswers","filter","options","Object","assign","sort","updated_at","newNext","answers","votes","prev","uniqBy","concat","_toConsumableArray2","e","useEffect","castedListeners","map","eventName","on","event","_event$poll","id","vote","poll_vote","isVoteAnswer","answer","removedListener","_event$poll2","item","forEach","listener","unsubscribe","hasNextPage"],"sourceRoot":"../../../../../src","sources":["components/Poll/hooks/usePollAnswersPagination.ts"],"mappings":";;;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAAC,OAAA,GAAAC,sBAAA,CAAAF,OAAA;AAEA,IAAAG,WAAA,GAAAH,OAAA;AAEA,IAAAI,SAAA,GAAAJ,OAAA;AA8BO,IAAMK,wBAAwB,GAAAC,OAAA,CAAAD,wBAAA,GAAG,SAA3BA,wBAAwBA,CAAA,EAGgC;EAAA,IAAAE,IAAA,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAjC,CAAC,CAAC;IAAAG,kBAAA,GAAAJ,IAAA,CAFpCK,aAAa;IAAbA,aAAa,GAAAD,kBAAA,cAAG,IAAI,GAAAA,kBAAA;IACpBE,gBAAgB,GAAAN,IAAA,CAAhBM,gBAAgB;EAEhB,IAAAC,eAAA,GAAiB,IAAAC,wBAAc,EAAC,CAAC;IAAzBC,IAAI,GAAAF,eAAA,CAAJE,IAAI;EACZ,IAAAC,eAAA,GAAmB,IAAAC,wBAAc,EAAC,CAAC;IAA3BC,MAAM,GAAAF,eAAA,CAANE,MAAM;EAEd,IAAAC,SAAA,GAAsC,IAAAC,eAAQ,EAAe,EAAE,CAAC;IAAAC,UAAA,OAAAC,eAAA,CAAAC,OAAA,EAAAJ,SAAA;IAAzDK,WAAW,GAAAH,UAAA;IAAEI,cAAc,GAAAJ,UAAA;EAClC,IAAAK,UAAA,GAA8B,IAAAN,eAAQ,EAAC,KAAK,CAAC;IAAAO,UAAA,OAAAL,eAAA,CAAAC,OAAA,EAAAG,UAAA;IAAtCE,OAAO,GAAAD,UAAA;IAAEE,UAAU,GAAAF,UAAA;EAC1B,IAAAG,UAAA,GAA0B,IAAAV,eAAQ,EAAQ,CAAC;IAAAW,UAAA,OAAAT,eAAA,CAAAC,OAAA,EAAAO,UAAA;IAApCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAMG,SAAS,GAAG,IAAAC,aAAM,EAAgB1B,SAAS,CAAC;EAClD,IAAM2B,eAAe,GAAG,IAAAD,aAAM,EAAC,KAAK,CAAC;EAErC,IAAME,QAAQ,GAAG,IAAAC,kBAAW,MAAAC,kBAAA,CAAAhB,OAAA,EAAC,aAAY;IACvC,IAAIW,SAAS,CAACM,OAAO,KAAK,IAAI,IAAIJ,eAAe,CAACI,OAAO,EAAE;MACzD;IACF;IACA,IAAMC,IAAI,GAAGP,SAAS,CAACM,OAAO;IAE9BX,UAAU,CAAC,IAAI,CAAC;IAChBO,eAAe,CAACI,OAAO,GAAG,IAAI;IAC9B,IAAI;MACF,IAAAE,qBAAA,SAAgD3B,IAAI,CAAC4B,YAAY,CAAC;UAChEC,MAAM,EAAEhC,gBAAgB,oBAAhBA,gBAAgB,CAAEgC,MAAM;UAChCC,OAAO,EAAE,CAACJ,IAAI,GAAG7B,gBAAgB,oBAAhBA,gBAAgB,CAAEiC,OAAO,GAAAC,MAAA,CAAAC,MAAA,KAAQnC,gBAAgB,oBAAhBA,gBAAgB,CAAEiC,OAAO;YAAEJ,IAAI,EAAJA;UAAI,EAAE;UACnFO,IAAI,EAAAF,MAAA,CAAAC,MAAA;YAAIE,UAAU,EAAE,CAAC;UAAC,GAAKrC,gBAAgB,oBAAhBA,gBAAgB,CAAEoC,IAAI;QACnD,CAAC,CAAC;QAJYE,OAAO,GAAAR,qBAAA,CAAbD,IAAI;QAAkBU,OAAO,GAAAT,qBAAA,CAAdU,KAAK;MAK5BlB,SAAS,CAACM,OAAO,GAAGU,OAAO,IAAI,IAAI;MACnCzB,cAAc,CAAC,UAAC4B,IAAI;QAAA,OAAK,IAAAC,eAAM,KAAAC,MAAA,KAAAC,mBAAA,CAAAjC,OAAA,EAAK8B,IAAI,OAAAG,mBAAA,CAAAjC,OAAA,EAAK4B,OAAO,IAAG,IAAI,CAAC;MAAA,EAAC;IAC/D,CAAC,CAAC,OAAOM,CAAC,EAAE;MACVxB,QAAQ,CAACwB,CAAU,CAAC;IACtB;IACArB,eAAe,CAACI,OAAO,GAAG,KAAK;IAC/BX,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC,GAAE,CAACjB,gBAAgB,EAAEG,IAAI,CAAC,CAAC;EAE5B,IAAA2C,gBAAS,EAAC,YAAM;IACd,IAAI,CAAC/C,aAAa,IAAIa,WAAW,CAAChB,MAAM,EAAE;MACxC;IACF;IACA6B,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,CAAC1B,aAAa,EAAE0B,QAAQ,EAAEb,WAAW,CAAC,CAAC;EAE1C,IAAAkC,gBAAS,EAAC,YAAM;IACd,IAAMC,eAAe,GAAG,CAAC,kBAAkB,EAAE,mBAAmB,CAAC,CAACC,GAAG,CAAC,UAACC,SAAS;MAAA,OAC9E3C,MAAM,CAAC4C,EAAE,CAACD,SAAS,EAAE,UAACE,KAAK,EAAK;QAAA,IAAAC,WAAA;QAC9B,IAAI,CAAAA,WAAA,GAAAD,KAAK,CAAChD,IAAI,aAAViD,WAAA,CAAYC,EAAE,IAAIF,KAAK,CAAChD,IAAI,CAACkD,EAAE,KAAKlD,IAAI,CAACkD,EAAE,EAAE;UAC/C;QACF;QACA,IAAMC,IAAI,GAAGH,KAAK,CAACI,SAAS;QAC5B,IAAID,IAAI,IAAI,IAAAE,wBAAY,EAACF,IAAI,CAAC,EAAE;UAC9BzC,cAAc,EAAEyC,IAAI,EAAAX,MAAA,KAAAC,mBAAA,CAAAjC,OAAA,EAAKC,WAAW,CAACoB,MAAM,CAAC,UAACyB,MAAM;YAAA,OAAKA,MAAM,CAACJ,EAAE,KAAKC,IAAI,CAACD,EAAE;UAAA,EAAC,EAAC,CAAC;QAClF;MACF,CAAC,CAAC;IAAA,CACJ,CAAC;IAED,IAAMK,eAAe,GAAGpD,MAAM,CAAC4C,EAAE,CAAC,mBAAmB,EAAE,UAACC,KAAK,EAAK;MAAA,IAAAQ,YAAA;MAChE,IAAI,CAAAA,YAAA,GAAAR,KAAK,CAAChD,IAAI,aAAVwD,YAAA,CAAYN,EAAE,IAAIF,KAAK,CAAChD,IAAI,CAACkD,EAAE,KAAKlD,IAAI,CAACkD,EAAE,EAAE;QAC/C;MACF;MACA,IAAMC,IAAI,GAAGH,KAAK,CAACI,SAAS;MAC5B,IAAID,IAAI,IAAI,IAAAE,wBAAY,EAACF,IAAI,CAAC,EAAE;QAC9BzC,cAAc,CAACD,WAAW,CAACoB,MAAM,CAAC,UAAC4B,IAAI;UAAA,OAAKA,IAAI,CAACP,EAAE,KAAKC,IAAI,CAACD,EAAE;QAAA,EAAC,CAAC;MACnE;IACF,CAAC,CAAC;IAEF,OAAO,YAAM;MACXN,eAAe,CAACc,OAAO,CAAC,UAACC,QAAQ;QAAA,OAAKA,QAAQ,CAACC,WAAW,CAAC,CAAC;MAAA,EAAC;MAC7DL,eAAe,CAACK,WAAW,CAAC,CAAC;IAC/B,CAAC;EACH,CAAC,EAAE,CAACzD,MAAM,EAAEH,IAAI,EAAES,WAAW,CAAC,CAAC;EAE/B,OAAO;IACLQ,KAAK,EAALA,KAAK;IACL4C,WAAW,EAAE1C,SAAS,CAACM,OAAO,KAAK,IAAI;IACvCZ,OAAO,EAAPA,OAAO;IACPS,QAAQ,EAARA,QAAQ;IACRI,IAAI,EAAEP,SAAS,CAACM,OAAO;IACvBhB,WAAW,EAAXA;EACF,CAAC;AACH,CAAC","ignoreList":[]}
