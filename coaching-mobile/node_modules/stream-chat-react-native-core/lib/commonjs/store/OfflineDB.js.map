{"version":3,"names":["_streamChat","require","api","_interopRequireWildcard","_SqliteClient","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_callSuper","o","_getPrototypeOf2","_possibleConstructorReturn2","_isNativeReflectConstruct","Reflect","construct","constructor","apply","Boolean","prototype","valueOf","OfflineDB","exports","_AbstractOfflineDB","_ref","_this","client","_classCallCheck2","upsertCidsForQuery","upsertChannels","upsertUserSyncStatus","_ref2","userId","lastSyncedAt","execute","currentUserId","upsertAppSettings","_ref3","appSettings","upsertPoll","upsertDraft","getDraft","deleteDraft","upsertChannelData","upsertReads","upsertMessages","upsertMembers","updateMessage","getChannels","_ref4","cids","channelIds","getChannelsForQuery","_ref5","filters","sort","getChannelsForFilterSort","getAllChannelCids","getAllChannelIds","getLastSyncedAt","_ref6","getAppSettings","_ref7","getReactions","getReactionsForFilterSort","addPendingTask","deletePendingTask","deleteReaction","deleteMember","deleteChannel","deleteMessagesForChannel","dropPendingTasks","hardDeleteMessage","deleteMessage","softDeleteMessage","getPendingTasks","updateReaction","insertReaction","channelExists","resetDB","SqliteClient","executeSqlBatch","initializeDB","initializeDatabase","_inherits2","_createClass2","AbstractOfflineDB"],"sourceRoot":"../../../src","sources":["store/OfflineDB.ts"],"mappings":"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","ignoreList":[]}
